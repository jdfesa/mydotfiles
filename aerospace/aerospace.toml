# AeroSpace MINIMAL CONFIGURATION
# Goal: Stability and Simplicity.
# If this works, we add features back one by one.

config-version = 2
start-at-login = true

# -----------------------------------------------------------------------------
# 1. CORE LAYOUT (The Bare Minimum)
# -----------------------------------------------------------------------------
# 'tiles' = Windows split 50/50.
# 'auto'  = Splits side-by-side if wide, top-bottom if tall.
default-root-container-layout = 'tiles'
default-root-container-orientation = 'auto'

# Disable complex normalizations to avoid "magic" movement
enable-normalization-flatten-containers = false
enable-normalization-opposite-orientation-for-nested-containers = false

# Mouse behavior
on-focused-monitor-changed = ['move-mouse monitor-lazy-center']

# -----------------------------------------------------------------------------
# 2. APPEARANCE (Only Sketchybar Space)
# -----------------------------------------------------------------------------
[gaps]
    inner.horizontal = 0
    inner.vertical =   0
    outer.left =       0
    outer.bottom =     0
    outer.right =      0
    
    # REQUIRED: Space for the top bar (Sketchybar)
    outer.top =        48 

# -----------------------------------------------------------------------------
# 3. KEYBINDINGS (The Trinity: Hyper/Meh)
# -----------------------------------------------------------------------------
[mode.main.binding]

    # --- HYPER (Cmd+Ctrl+Opt+Shift) -> ACTIONS ---
    cmd-alt-ctrl-shift-t = 'exec-and-forget open -n -a /Applications/Ghostty.app'
    cmd-alt-ctrl-shift-backspace = 'reload-config'
    
    # Move Focus (Physical)
    cmd-alt-ctrl-shift-h = 'move left'
    cmd-alt-ctrl-shift-j = 'move down'
    cmd-alt-ctrl-shift-k = 'move up'
    cmd-alt-ctrl-shift-l = 'move right'

    # Move to Workspace
    cmd-alt-ctrl-shift-1 = 'move-node-to-workspace 1'
    cmd-alt-ctrl-shift-2 = 'move-node-to-workspace 2'
    cmd-alt-ctrl-shift-3 = 'move-node-to-workspace 3'
    cmd-alt-ctrl-shift-4 = 'move-node-to-workspace 4'
    cmd-alt-ctrl-shift-5 = 'move-node-to-workspace 5'

    # --- MEH (Alt+Ctrl+Shift) -> NAVIGATION ---
    # Focus Window
    alt-ctrl-shift-h = 'focus left'
    alt-ctrl-shift-j = 'focus down'
    alt-ctrl-shift-k = 'focus up'
    alt-ctrl-shift-l = 'focus right'

    # Switch Workspace
    alt-ctrl-shift-1 = 'workspace 1'
    alt-ctrl-shift-2 = 'workspace 2'
    alt-ctrl-shift-3 = 'workspace 3'
    alt-ctrl-shift-4 = 'workspace 4'
    alt-ctrl-shift-5 = 'workspace 5'

    # --- UTILS ---
    # Flatten: Use this if windows get "stuck" in a weird nested split
    alt-ctrl-shift-f = 'flatten-workspace-tree'
